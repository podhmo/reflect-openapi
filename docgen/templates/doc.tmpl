{{- /* https://pkg.go.dev/text/template#hdr-Actions */ -}}
{{- /* require Title:string, Version:string, Description:string, Endpoints: []Endpoint Objects: []Object */ -}}
{{- if (not .SkipMetadata) -}}
---
title: {{.Title}}
version: {{.Version}}
---
{{ end }}
# {{.Title}}

{{.Description}}

- [paths](#paths)
- [schemas](#schemas)

## paths

| endpoint | operationId | tags | summary |
| --- | --- | --- | --- |
{{- range .Endpoints }}
| `{{.Method}} {{.Path}}` | [{{.OperationID}}](#{{.HtmlID}})  | {{if (ne .Tags "")}}`{{.Tags}}`{{end}} | {{.Summary}} |
{{- end }}

{{ range .Endpoints }}
### {{.OperationID}} `{{.Method}} {{.Path}}`

{{.Summary}}

| name | value | 
| --- | --- |
| operationId | {{.OperationID}} |
| endpoint | `{{.Method}} {{.Path}}` |

{{ if ne .Input.TypeString "" }}
#### input (application/json)

```go
// {{.Method}} {{.Path}}
{{.Input.TypeString}}
```
{{- end }}

{{- if ne (len .OutputList) 0 }}

#### output (application/json)

```go
{{- $method := .Method}}
{{- $path:= .Path}}
{{- range .OutputList}}
{{ if ne .TypeString "" }}
// {{$method}} {{$path}} ({{.Name}})
{{.TypeString}}
{{- end }}
{{- end }}
```
{{- if .HasExample }}

examples

```json
{{- range .OutputList}}
{{- $name:= .Name}}
{{- range .Examples}}

// {{$method}} {{$path}} ({{$name}})
{{ if ne .Description ""}}// {{.Description}}{{end}}
{{.Value}}
{{- end }}
{{- end }}
```
{{- end }}
{{- end }}

{{- if ne .Description "" }}

#### description

{{.Description}}
{{- end }}

{{- end }}

{{if ne (len .Objects) 0 }}

----------------------------------------

## schemas

| name | summary |
| --- | --- |
{{- range .Objects}}
| [{{.Name}}](#{{.HtmlID}}) | {{.Summary}} |
{{- end }}

{{ range .Objects }}

### {{.Name}}

```go
{{.TypeString}}
```
{{- if ne (len .Examples) 0}}

exmaples
{{- range .Examples}}

```js
// {{.Description}}
{{.Value}}
```
{{- end }}
{{- end }}
{{ range .Links}}
- [{{.Title}}]({{.URL}})
{{- end }}

{{- if ne .Description "" }}

#### description

{{.Description}}
{{- end }}

{{- end }}
{{- end }}